{%- comment -%}
  ✨ Premium boAt Light Product Carousel
  Sophisticated light-themed cards with advanced styling and premium effects
{%- endcomment -%}

{%- style -%}
  .boat-light-carousel {
    background: {{ section.settings.section_background | default: 'linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #f1f5f9 100%)' }};
    padding: {{ section.settings.section_padding_top | default: 80 }}px 0 {{ section.settings.section_padding_bottom | default: 80 }}px;
    position: relative;
    overflow: hidden;
  }

  /* Premium Background Pattern */
  .boat-light-carousel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: {% if section.settings.enable_pattern %}
      radial-gradient(circle at 20% 20%, {{ section.settings.pattern_color_1 | default: 'rgba(217, 35, 45, 0.03)' }} 0%, transparent 60%),
      radial-gradient(circle at 80% 80%, {{ section.settings.pattern_color_2 | default: 'rgba(0, 181, 148, 0.03)' }} 0%, transparent 60%),
      radial-gradient(circle at 40% 60%, {{ section.settings.pattern_color_3 | default: 'rgba(139, 92, 246, 0.02)' }} 0%, transparent 70%)
    {% else %}
      transparent
    {% endif %};
    animation: {% if section.settings.enable_pattern_animation %}subtleFloat {{ section.settings.pattern_duration | default: 25 }}s ease-in-out infinite{% else %}none{% endif %};
    pointer-events: none;
  }

  @keyframes subtleFloat {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(15px, -8px) scale(1.02); }
    66% { transform: translate(-10px, 12px) scale(1.01); }
  }

  .boat-light-container {
    max-width: {{ section.settings.container_max_width | default: 1400 }}px;
    margin: 0 auto;
    position: relative;
    z-index: 2;
  }

  /* Premium Header Design */
  .boat-light-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: {{ section.settings.header_margin_bottom | default: 50 }}px;
    padding: 0 {{ section.settings.container_padding | default: 20 }}px;
  }

  .boat-light-title {
    color: {{ section.settings.title_color | default: '#1a1a1a' }};
    font-size: {{ section.settings.title_size | default: 36 }}px;
    font-weight: {{ section.settings.title_weight | default: 800 }};
    margin: 0;
    {% if section.settings.enable_title_gradient %}
      background: {{ section.settings.title_gradient | default: 'linear-gradient(135deg, #1a1a1a, #d9232d, #1a1a1a)' }};
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    {% endif %}
    text-shadow: {{ section.settings.title_text_shadow | default: '0 2px 4px rgba(0, 0, 0, 0.05)' }};
    letter-spacing: {{ section.settings.title_letter_spacing | default: -1 }}px;
    position: relative;
  }

  .boat-light-title::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 0;
    width: {{ section.settings.title_underline_width | default: 60 }}px;
    height: {{ section.settings.title_underline_height | default: 4 }}px;
    background: {{ section.settings.title_underline_color | default: 'linear-gradient(90deg, #d9232d, #ff4757)' }};
    border-radius: 2px;
  }

  .boat-light-view-all {
    color: {{ section.settings.view_all_color | default: '#d9232d' }};
    text-decoration: none;
    font-weight: {{ section.settings.view_all_weight | default: 700 }};
    font-size: {{ section.settings.view_all_size | default: 16 }}px;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    padding: 12px 24px;
    border: 2px solid {{ section.settings.view_all_border | default: '#d9232d' }};
    border-radius: 30px;
    background: {{ section.settings.view_all_bg | default: 'rgba(217, 35, 45, 0.05)' }};
    backdrop-filter: blur(10px);
  }

  .boat-light-view-all:hover {
    background: {{ section.settings.view_all_hover_bg | default: '#d9232d' }};
    color: {{ section.settings.view_all_hover_color | default: '#ffffff' }};
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(217, 35, 45, 0.25);
  }

  /* Premium Grid Layout */
  .boat-light-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax({{ section.settings.card_min_width | default: 300 }}px, 1fr));
    gap: {{ section.settings.grid_gap | default: 30 }}px;
    padding: 0 {{ section.settings.container_padding | default: 20 }}px;
  }

  /* ⭐ ULTRA-PREMIUM LIGHT PRODUCT CARD */
  .boat-light-card {
    background: {{ section.settings.card_background | default: 'rgba(255, 255, 255, 0.95)' }};
    border-radius: {{ section.settings.card_border_radius | default: 24 }}px;
    padding: {{ section.settings.card_padding | default: 24 }}px;
    transition: all {{ section.settings.card_transition_duration | default: 0.6 }}s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    border: {{ section.settings.card_border_width | default: 1 }}px solid {{ section.settings.card_border_color | default: 'rgba(0, 0, 0, 0.06)' }};
    position: relative;
    overflow: hidden;
    min-height: {{ section.settings.card_min_height | default: 480 }}px;
    display: flex;
    flex-direction: column;
    backdrop-filter: blur({{ section.settings.card_backdrop_blur | default: 20 }}px);
    box-shadow: {{ section.settings.card_shadow | default: '0 10px 40px rgba(0, 0, 0, 0.08), 0 2px 12px rgba(0, 0, 0, 0.04)' }};
  }

  /* Advanced Glassmorphism Effects */
  .boat-light-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: {% if section.settings.enable_glass_effect %}
      linear-gradient(135deg,
        rgba(255, 255, 255, {{ section.settings.glass_opacity_1 | default: 0.8 }}) 0%,
        rgba(255, 255, 255, {{ section.settings.glass_opacity_2 | default: 0.4 }}) 50%,
        rgba(255, 255, 255, {{ section.settings.glass_opacity_3 | default: 0.1 }}) 100%)
    {% else %}
      transparent
    {% endif %};
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
  }

  /* Premium Hover Effects */
  .boat-light-card:hover {
    transform: translateY(-{{ section.settings.card_hover_lift | default: 16 }}px) scale({{ section.settings.card_hover_scale | default: 1.04 }});
    border-color: {{ section.settings.card_hover_border | default: 'rgba(217, 35, 45, 0.2)' }};
    box-shadow: {{ section.settings.card_hover_shadow | default: '0 30px 60px rgba(0, 0, 0, 0.15), 0 0 50px rgba(217, 35, 45, 0.1), 0 10px 20px rgba(0, 0, 0, 0.08)' }};
  }

  /* Sophisticated Image Container */
  .boat-light-image-container {
    position: relative;
    margin-bottom: {{ section.settings.image_margin_bottom | default: 20 }}px;
    border-radius: {{ section.settings.image_container_radius | default: 20 }}px;
    overflow: hidden;
    z-index: 2;
    background: {{ section.settings.image_container_bg | default: 'linear-gradient(135deg, #f8fafc, #ffffff)' }};
  }

  .boat-light-image {
    width: 100%;
    height: {{ section.settings.image_height | default: 220 }}px;
    object-fit: {{ section.settings.image_fit | default: 'cover' }};
    transition: transform {{ section.settings.image_transition_duration | default: 0.5 }}s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    filter: {{ section.settings.image_filter | default: 'brightness(1.02) contrast(1.05)' }};
  }

  .boat-light-card:hover .boat-light-image {
    transform: scale({{ section.settings.image_hover_scale | default: 1.1 }});
    filter: {{ section.settings.image_hover_filter | default: 'brightness(1.05) contrast(1.1)' }};
  }

  /* Ultra-Premium Badge System */
  .boat-light-badge {
    position: absolute;
    top: {{ section.settings.badge_top | default: 16 }}px;
    left: {{ section.settings.badge_left | default: 16 }}px;
    padding: {{ section.settings.badge_padding_y | default: 8 }}px {{ section.settings.badge_padding_x | default: 16 }}px;
    border-radius: {{ section.settings.badge_border_radius | default: 25 }}px;
    font-size: {{ section.settings.badge_font_size | default: 11 }}px;
    font-weight: {{ section.settings.badge_font_weight | default: 800 }};
    text-transform: {{ section.settings.badge_text_transform | default: 'uppercase' }};
    letter-spacing: {{ section.settings.badge_letter_spacing | default: 1 }}px;
    z-index: 3;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    transition: all 0.3s ease;
  }

  .boat-light-badge:hover {
    transform: scale(1.05);
  }

  .boat-light-badge-new-launch {
    background: {{ section.settings.badge_new_bg | default: 'linear-gradient(135deg, #1a1a1a, #4a4a4a, #1a1a1a)' }};
    color: {{ section.settings.badge_new_color | default: '#ffffff' }};
    box-shadow: 0 6px 20px rgba(26, 26, 26, 0.3);
  }

  .boat-light-badge-trending {
    background: {{ section.settings.badge_trending_bg | default: 'linear-gradient(135deg, #ff6b35, #ff8c42, #ff6b35)' }};
    color: {{ section.settings.badge_trending_color | default: '#ffffff' }};
    box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
  }

  .boat-light-badge-engraving {
    background: {{ section.settings.badge_engraving_bg | default: 'linear-gradient(135deg, #8b5cf6, #a855f7, #8b5cf6)' }};
    color: {{ section.settings.badge_engraving_color | default: '#ffffff' }};
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
  }

  .boat-light-badge-extra-off {
    background: {{ section.settings.badge_extra_bg | default: 'linear-gradient(135deg, #10b981, #059669, #10b981)' }};
    color: {{ section.settings.badge_extra_color | default: '#ffffff' }};
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
  }

  /* Enhanced Spec Display */
  .boat-light-spec {
    position: absolute;
    bottom: {{ section.settings.spec_bottom | default: 16 }}px;
    left: {{ section.settings.spec_left | default: 16 }}px;
    background: {{ section.settings.spec_bg | default: 'rgba(255, 255, 255, 0.98)' }};
    color: {{ section.settings.spec_color | default: '#1a1a1a' }};
    padding: {{ section.settings.spec_padding_y | default: 8 }}px {{ section.settings.spec_padding_x | default: 14 }}px;
    border-radius: {{ section.settings.spec_border_radius | default: 20 }}px;
    font-size: {{ section.settings.spec_font_size | default: 11 }}px;
    font-weight: {{ section.settings.spec_font_weight | default: 700 }};
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
    z-index: 3;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* Premium Product Info Section */
  .boat-light-info {
    color: {{ section.settings.info_color | default: '#1a1a1a' }};
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    z-index: 2;
    position: relative;
  }

  .boat-light-product-title {
    font-size: {{ section.settings.title_font_size | default: 18 }}px;
    font-weight: {{ section.settings.title_font_weight | default: 800 }};
    margin-bottom: {{ section.settings.title_margin_bottom | default: 16 }}px;
    color: {{ section.settings.title_text_color | default: '#1a1a1a' }};
    line-height: {{ section.settings.title_line_height | default: 1.4 }};
    flex-grow: 1;
    letter-spacing: {{ section.settings.title_letter_spacing_mobile | default: -0.3 }}px;
  }

  .boat-light-product-title a {
    color: inherit;
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .boat-light-product-title a:hover {
    color: {{ section.settings.title_hover_color | default: '#d9232d' }};
  }

  /* Ultra-Premium Color Swatches */
  .boat-light-color-swatches {
    display: flex;
    gap: {{ section.settings.swatch_gap | default: 10 }}px;
    margin-bottom: {{ section.settings.swatch_margin_bottom | default: 16 }}px;
    align-items: center;
    flex-wrap: wrap;
  }

  .boat-light-color-swatch {
    width: {{ section.settings.swatch_size | default: 24 }}px;
    height: {{ section.settings.swatch_size | default: 24 }}px;
    border-radius: 50%;
    border: {{ section.settings.swatch_border_width | default: 3 }}px solid {{ section.settings.swatch_border_color | default: '#ffffff' }};
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.08);
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
  }

  .boat-light-color-swatch::before {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border-radius: 50%;
    background: transparent;
    transition: all 0.3s ease;
  }

  .boat-light-color-swatch:hover {
    transform: scale({{ section.settings.swatch_hover_scale | default: 1.4 }});
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  }

  .boat-light-color-swatch.active {
    transform: scale({{ section.settings.swatch_active_scale | default: 1.4 }});
    box-shadow: 0 0 0 3px {{ section.settings.swatch_active_color | default: '#d9232d' }}, 0 6px 20px rgba(217, 35, 45, 0.3);
  }

  .boat-light-color-count {
    font-size: {{ section.settings.color_count_font_size | default: 13 }}px;
    color: {{ section.settings.color_count_color | default: '#666666' }};
    margin-left: {{ section.settings.color_count_margin | default: 10 }}px;
    font-weight: 700;
    padding: 4px 12px;
    background: {{ section.settings.color_count_bg | default: 'rgba(0, 0, 0, 0.05)' }};
    border-radius: 15px;
    border: 1px solid rgba(0, 0, 0, 0.08);
  }

  /* Premium Rating System */
  .boat-light-rating {
    display: flex;
    align-items: center;
    gap: {{ section.settings.rating_gap | default: 10 }}px;
    margin-bottom: {{ section.settings.rating_margin_bottom | default: 16 }}px;
  }

  .boat-light-rating-stars {
    color: {{ section.settings.rating_star_color | default: '#fbbf24' }};
    font-size: {{ section.settings.rating_star_size | default: 16 }}px;
    filter: drop-shadow(0 2px 4px rgba(251, 191, 36, 0.3));
    text-shadow: 0 1px 3px rgba(251, 191, 36, 0.5);
  }

  .boat-light-rating-number {
    background: {{ section.settings.rating_bg | default: 'linear-gradient(135deg, #10b981, #059669)' }};
    color: {{ section.settings.rating_color | default: '#ffffff' }};
    padding: {{ section.settings.rating_padding_y | default: 6 }}px {{ section.settings.rating_padding_x | default: 12 }}px;
    border-radius: {{ section.settings.rating_border_radius | default: 15 }}px;
    font-size: {{ section.settings.rating_font_size | default: 12 }}px;
    font-weight: {{ section.settings.rating_font_weight | default: 800 }};
    box-shadow: 0 3px 12px rgba(16, 185, 129, 0.3);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* Ultra-Premium Price Display */
  .boat-light-price {
    display: flex;
    align-items: center;
    gap: {{ section.settings.price_gap | default: 15 }}px;
    margin-bottom: {{ section.settings.price_margin_bottom | default: 20 }}px;
    flex-wrap: wrap;
  }

  .boat-light-current-price {
    font-size: {{ section.settings.current_price_size | default: 26 }}px;
    font-weight: {{ section.settings.current_price_weight | default: 900 }};
    color: {{ section.settings.current_price_color | default: '#1a1a1a' }};
    letter-spacing: {{ section.settings.current_price_letter_spacing | default: -0.8 }}px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .boat-light-original-price {
    font-size: {{ section.settings.original_price_size | default: 16 }}px;
    color: {{ section.settings.original_price_color | default: '#888888' }};
    text-decoration: line-through;
    text-decoration-color: #d9232d;
    text-decoration-thickness: 2px;
  }

  .boat-light-discount-percent {
    background: {{ section.settings.discount_bg | default: 'linear-gradient(135deg, #10b981, #059669)' }};
    color: {{ section.settings.discount_color | default: '#ffffff' }};
    padding: {{ section.settings.discount_padding_y | default: 6 }}px {{ section.settings.discount_padding_x | default: 14 }}px;
    border-radius: {{ section.settings.discount_border_radius | default: 15 }}px;
    font-size: {{ section.settings.discount_font_size | default: 12 }}px;
    font-weight: {{ section.settings.discount_font_weight | default: 800 }};
    box-shadow: 0 3px 12px rgba(16, 185, 129, 0.3);
    text-transform: uppercase;
    letter-spacing: 0.8px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* Ultra-Premium Add to Cart Button */
  .boat-light-add-cart {
    width: 100%;
    background: {{ section.settings.button_bg | default: 'linear-gradient(135deg, #d9232d, #ff4757, #d9232d)' }};
    color: {{ section.settings.button_color | default: '#ffffff' }};
    border: none;
    padding: {{ section.settings.button_padding_y | default: 16 }}px {{ section.settings.button_padding_x | default: 20 }}px;
    border-radius: {{ section.settings.button_border_radius | default: 15 }}px;
    font-weight: {{ section.settings.button_font_weight | default: 800 }};
    font-size: {{ section.settings.button_font_size | default: 15 }}px;
    cursor: pointer;
    transition: all {{ section.settings.button_transition_duration | default: 0.4 }}s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    text-transform: {{ section.settings.button_text_transform | default: 'uppercase' }};
    letter-spacing: {{ section.settings.button_letter_spacing | default: 1 }}px;
    position: relative;
    overflow: hidden;
    box-shadow: {{ section.settings.button_shadow | default: '0 6px 20px rgba(217, 35, 45, 0.3)' }};
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* Advanced Button Shine Effect */
  .boat-light-add-cart::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left {{ section.settings.button_shine_duration | default: 0.8 }}s ease;
  }

  .boat-light-add-cart:hover::before {
    left: 100%;
  }

  .boat-light-add-cart:hover {
    transform: translateY(-{{ section.settings.button_hover_lift | default: 3 }}px);
    box-shadow: {{ section.settings.button_hover_shadow | default: '0 12px 35px rgba(217, 35, 45, 0.4)' }};
    background: {{ section.settings.button_hover_bg | default: 'linear-gradient(135deg, #ff4757, #d9232d, #ff4757)' }};
  }

  .boat-light-add-cart:active {
    transform: translateY(-1px);
  }

  /* Premium Quick View */
  .boat-light-quick-view {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.98);
    color: #1a1a1a;
    border: 2px solid rgba(217, 35, 45, 0.2);
    padding: 14px 24px;
    border-radius: 30px;
    font-weight: 700;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    cursor: pointer;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    backdrop-filter: blur(15px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    z-index: 4;
  }

  .boat-light-card:hover .boat-light-quick-view {
    opacity: 1;
    visibility: visible;
  }

  .boat-light-quick-view:hover {
    background: #d9232d;
    color: #ffffff;
    border-color: #d9232d;
    transform: translate(-50%, -50%) scale(1.08);
    box-shadow: 0 8px 25px rgba(217, 35, 45, 0.4);
  }

  /* Responsive Excellence */
  @media screen and (max-width: 989px) {
    .boat-light-title {
      font-size: {{ section.settings.title_size_tablet | default: 30 }}px;
    }

    .boat-light-grid {
      grid-template-columns: repeat(auto-fit, minmax({{ section.settings.card_min_width_tablet | default: 260 }}px, 1fr));
      gap: {{ section.settings.grid_gap_tablet | default: 24 }}px;
    }

    .boat-light-card {
      min-height: {{ section.settings.card_min_height_tablet | default: 440 }}px;
      padding: {{ section.settings.card_padding_tablet | default: 20 }}px;
    }

    .boat-light-image {
      height: {{ section.settings.image_height_tablet | default: 200 }}px;
    }
  }

  @media screen and (max-width: 749px) {
    .boat-light-carousel {
      padding: {{ section.settings.section_padding_top_mobile | default: 50 }}px 0 {{ section.settings.section_padding_bottom_mobile | default: 50 }}px;
    }

    .boat-light-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 20px;
      margin-bottom: {{ section.settings.header_margin_bottom_mobile | default: 35 }}px;
    }

    .boat-light-title {
      font-size: {{ section.settings.title_size_mobile | default: 26 }}px;
    }

    .boat-light-grid {
      grid-template-columns: repeat(auto-fit, minmax({{ section.settings.card_min_width_mobile | default: 300 }}px, 1fr));
      gap: {{ section.settings.grid_gap_mobile | default: 20 }}px;
    }

    .boat-light-card {
      min-height: {{ section.settings.card_min_height_mobile | default: 400 }}px;
    }

    .boat-light-image {
      height: {{ section.settings.image_height_mobile | default: 180 }}px;
    }
  }

  @media screen and (max-width: 550px) {
    .boat-light-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: {{ section.settings.grid_gap_small | default: 16 }}px;
    }

    .boat-light-card {
      min-height: {{ section.settings.card_min_height_small | default: 360 }}px;
      padding: {{ section.settings.card_padding_small | default: 16 }}px;
    }

    .boat-light-image {
      height: {{ section.settings.image_height_small | default: 160 }}px;
    }

    .boat-light-current-price {
      font-size: {{ section.settings.current_price_size_small | default: 20 }}px;
    }
  }

  /* Premium Entrance Animations */
  @media (prefers-reduced-motion: no-preference) {
    .boat-light-card {
      animation: elegantFadeIn 0.8s ease-out;
    }

    .boat-light-card:nth-child(1) { animation-delay: 0.1s; }
    .boat-light-card:nth-child(2) { animation-delay: 0.2s; }
    .boat-light-card:nth-child(3) { animation-delay: 0.3s; }
    .boat-light-card:nth-child(4) { animation-delay: 0.4s; }
    .boat-light-card:nth-child(5) { animation-delay: 0.5s; }
  }

  @keyframes elegantFadeIn {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Accessibility & High Contrast */
  @media (prefers-contrast: high) {
    .boat-light-card {
      border: 3px solid #000000;
    }

    .boat-light-add-cart {
      border: 2px solid #ffffff;
    }

    .boat-light-badge {
      border: 2px solid #ffffff;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .boat-light-card,
    .boat-light-image,
    .boat-light-add-cart,
    .boat-light-color-swatch {
      transition: none;
      animation: none;
    }
  }
{%- endstyle -%}

<div class="boat-light-carousel">
  <div class="boat-light-header">
    {%- if section.settings.title != blank -%}
      <h2 class="boat-light-title">{{ section.settings.title }}</h2>
    {%- endif -%}

    {%- if section.settings.collection != blank and section.settings.show_view_all -%}
      <a href="{{ collections[section.settings.collection].url }}" class="boat-light-view-all">
        {{ section.settings.view_all_text | default: 'View All' }} ⊕
      </a>
    {%- endif -%}
  </div>

  <div class="boat-light-grid">
    {%- liquid
      assign collection = collections[section.settings.collection]
      if collection == blank
        assign collection = collections.all
      endif

      assign products_to_show = section.settings.products_to_show | default: 5
      assign badge_types = 'new-launch,trending,engraving,extra-off' | split: ','
      assign badge_labels = 'New Launch,🔥 Trending,⚡ Engraving Available,💚 EXTRA ₹100 OFF' | split: ','
      assign specs = '50 Hours Playback,20 Hours Playback,40 Hours Playback,BT Calling,12 Hours Playback,10000mAh Battery' | split: ','
    -%}

    {%- for product in collection.products limit: products_to_show -%}
      {%- assign random_badge = forloop.index0 | modulo: 4 -%}
      {%- assign random_spec = forloop.index0 | modulo: 6 -%}
      {%- assign random_rating = '4.6,4.9,4.8,5.0,4.8' | split: ',' -%}
      {%- assign product_rating = random_rating[forloop.index0] | default: '4.8' -%}

      <div class="boat-light-card">
        <div class="boat-light-image-container">
          {%- comment -%} Product Badge {%- endcomment -%}
          <div class="boat-light-badge boat-light-badge-{{ badge_types[random_badge] }}">
            {{ badge_labels[random_badge] }}
          </div>

          {%- comment -%} Product Spec {%- endcomment -%}
          <div class="boat-light-spec">
            {{ specs[random_spec] }}
          </div>

          <a href="{{ product.url }}">
            <img
              src="{{ product.featured_image | image_url: width: 400 }}"
              alt="{{ product.featured_image.alt | escape }}"
              class="boat-light-image"
              width="400"
              height="400"
            >
          </a>
        </div>

        <div class="boat-light-info">
          <h3 class="boat-light-product-title">
            <a href="{{ product.url }}">{{ product.title }}</a>
          </h3>

          {%- comment -%} Color Swatches {%- endcomment -%}
          {%- if product.options contains 'Color' -%}
            <div class="boat-light-color-swatches">
              {%- assign color_count = 0 -%}
              {%- for option in product.options -%}
                {%- if option == 'Color' -%}
                  {%- assign color_values = product.option_by_name[option].values -%}
                  {%- assign color_count = color_values.size -%}
                  {%- for color in color_values limit: 3 -%}
                    {%- assign color_lower = color | downcase -%}
                    {%- assign color_hex = '#000000' -%}
                    {%- case color_lower -%}
                      {%- when 'black' -%}
                        {%- assign color_hex = '#000000' -%}
                      {%- when 'blue' -%}
                        {%- assign color_hex = '#3b82f6' -%}
                      {%- when 'green' -%}
                        {%- assign color_hex = '#10b981' -%}
                      {%- when 'red' -%}
                        {%- assign color_hex = '#ef4444' -%}
                      {%- when 'white' -%}
                        {%- assign color_hex = '#ffffff' -%}
                      {%- when 'gray', 'grey' -%}
                        {%- assign color_hex = '#6b7280' -%}
                      {%- else -%}
                        {%- assign color_hex = '#8b5cf6' -%}
                    {%- endcase -%}
                    <div
                      class="boat-light-color-swatch{% if forloop.first %} active{% endif %}"
                      style="background-color: {{ color_hex }};"
                    ></div>
                  {%- endfor -%}
                  {%- if color_count > 3 -%}
                    <span class="boat-light-color-count">+{{ color_count | minus: 3 }}</span>
                  {%- endif -%}
                {%- endif -%}
              {%- endfor -%}
            </div>
          {%- else -%}
            {%- comment -%} Default color swatches if no color option {%- endcomment -%}
            <div class="boat-light-color-swatches">
              <div class="boat-light-color-swatch active" style="background-color: #000000;"></div>
              <div class="boat-light-color-swatch" style="background-color: #3b82f6;"></div>
              <span class="boat-light-color-count">+{{ forloop.index | modulo: 3 | plus: 1 }}</span>
            </div>
          {%- endif -%}

          {%- comment -%} Rating {%- endcomment -%}
          <div class="boat-light-rating">
            <div class="boat-light-rating-stars">★</div>
            <div class="boat-light-rating-number">{{ product_rating }}</div>
          </div>

          <div class="boat-light-price">
            <span class="boat-light-current-price">{{ product.price | money }}</span>
            {%- if product.compare_at_price > product.price -%}
              <span class="boat-light-original-price">{{ product.compare_at_price | money }}</span>
              {%- assign discount = product.compare_at_price
                | minus: product.price
                | times: 100.0
                | divided_by: product.compare_at_price
                | round
              -%}
              <span class="boat-light-discount-percent">{{ discount }}% off</span>
            {%- endif -%}
          </div>

          <form action="{{ routes.cart_add_url }}" method="post" enctype="multipart/form-data">
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
            <button type="submit" class="boat-light-add-cart">Add to Cart</button>
          </form>
        </div>
      </div>
    {%- endfor -%}
  </div>
</div>

{% schema %}
{
  "name": "boAt Light Carousel",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Choose Your Offer"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 2,
      "max": 12,
      "step": 1,
      "label": "Products to show",
      "default": 5
    },
    {
      "type": "checkbox",
      "id": "show_view_all",
      "label": "Show view all link",
      "default": true
    },
    {
      "type": "text",
      "id": "view_all_text",
      "label": "View all text",
      "default": "View All"
    }
  ],
  "presets": [
    {
      "name": "boAt Light Carousel"
    }
  ]
}
{% endschema %}
